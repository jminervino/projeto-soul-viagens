<main class="signup-page">
  <div class="signup-grid">
    <!-- Hero -->
    <section class="signup-hero" aria-hidden="true">
      <img class="signup-hero__image" [src]="imagem" alt="" />
      <div class="signup-hero__overlay"></div>
      <div class="signup-hero__badge">
        <span class="signup-hero__tagline">Soul Viagens</span>
        <p class="signup-hero__sub">Documente suas aventuras pelo mundo.</p>
      </div>
    </section>

    <!-- Form -->
    <section class="signup-form-section">
      <div class="signup-card">
        <header class="signup-header">
          <h1 class="signup-title">Criar conta</h1>
          <p class="signup-subtitle">Preencha seus dados para começar.</p>
        </header>

        <form [formGroup]="signupForm" (ngSubmit)="onSubmit()" class="signup-form">
          <div class="signup-row">
            <mat-form-field appearance="outline" class="signup-field">
              <mat-label>Nome</mat-label>
              <input matInput placeholder="Seu nome completo" formControlName="nome" required />
              <mat-icon matPrefix>person_outline</mat-icon>
              <mat-error *ngIf="signupForm.get('nome')?.errors?.['required']">Campo obrigatório</mat-error>
            </mat-form-field>

            <mat-form-field appearance="outline" class="signup-field">
              <mat-label>Apelido</mat-label>
              <input matInput placeholder="Ex: Viajante123" formControlName="nick" required />
              <mat-icon matPrefix>alternate_email</mat-icon>
              <mat-error *ngIf="signupForm.get('nick')?.errors?.['required']">Campo obrigatório</mat-error>
            </mat-form-field>
          </div>

          <mat-form-field appearance="outline" class="signup-field">
            <mat-label>Email</mat-label>
            <input matInput placeholder="seu@email.com" formControlName="email" required type="email" />
            <mat-icon matPrefix>mail_outline</mat-icon>
            <mat-error *ngIf="signupForm.get('email')?.errors?.['required']">Campo obrigatório</mat-error>
            <mat-error *ngIf="signupForm.get('email')?.errors?.['email']">Email inválido</mat-error>
          </mat-form-field>

          <mat-form-field appearance="outline" class="signup-field">
            <mat-label>Senha</mat-label>
            <input matInput placeholder="Mínimo 8 caracteres" formControlName="senha" [type]="hidePassword ? 'password' : 'text'" required />
            <mat-icon matPrefix>lock_outline</mat-icon>
            <button mat-icon-button matSuffix type="button" (click)="hidePassword = !hidePassword" [attr.aria-label]="hidePassword ? 'Mostrar senha' : 'Ocultar senha'">
              <mat-icon>{{ hidePassword ? 'visibility_off' : 'visibility' }}</mat-icon>
            </button>
            <mat-error *ngIf="signupForm.get('senha')?.errors?.['required']">Campo obrigatório</mat-error>
            <mat-error *ngIf="signupForm.get('senha')?.errors?.['minlength']">O mínimo são 8 caracteres</mat-error>
          </mat-form-field>

          <mat-form-field appearance="outline" class="signup-field">
            <mat-label>Confirmar senha</mat-label>
            <input matInput placeholder="Repita sua senha" formControlName="confirma_senha" [type]="hideConfirm ? 'password' : 'text'" />
            <mat-icon matPrefix>lock_outline</mat-icon>
            <button mat-icon-button matSuffix type="button" (click)="hideConfirm = !hideConfirm" [attr.aria-label]="hideConfirm ? 'Mostrar senha' : 'Ocultar senha'">
              <mat-icon>{{ hideConfirm ? 'visibility_off' : 'visibility' }}</mat-icon>
            </button>
          </mat-form-field>
          <div class="signup-match-error" *ngIf="signupForm.errors?.['matchPasswords'] && signupForm.get('confirma_senha')?.touched">
            As senhas não correspondem
          </div>

          <div class="signup-recaptcha">
            <ngx-recaptcha2 #captchaElem [siteKey]="siteKey"></ngx-recaptcha2>
          </div>

          <button type="submit" class="signup-btn signup-btn--primary" mat-raised-button color="primary" [disabled]="signupForm.invalid">
            <span class="signup-btn__text">Criar conta</span>
            <mat-icon class="signup-btn__icon">arrow_forward</mat-icon>
          </button>

          <div class="signup-divider">
            <span class="signup-divider__text">ou continue com</span>
          </div>

          <button type="button" class="signup-btn signup-btn--google" (click)="onLoginGoogle()">
            <img class="signup-btn__logo" src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" alt="" width="20" height="20" />
            <span class="signup-btn__text">Google</span>
          </button>
        </form>

        <div class="signup-footer">
          Já tem uma conta? <a routerLink="/login" class="signup-footer__link">Entrar</a>
        </div>
      </div>
    </section>
  </div>
</main>
